{% extends 'base.html' %}
{% load static %}

{% block content %}
<div id="partybuilder" class="row text-left">
  <div class="col-md-12" style="font-size: 0.8em">
    <h1>Party</h1>
    <table class="table dest-party">
      <tbody>
        {% for role in roles %}
        <tr>
          <th scope="col" style="width: 8em">{{ role.role }}</th>
          <td class="dest-container" data-role="{{ role.role }}"></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <h1>Available jobs</h1>
    <p>Click on name to add to party</p>
    {% for role in roles %}
    <table class="table">
      <thead>
        <tr>
            <th colspan="2" style="text-align: center"><h3>{{ role.role }}</h3></th>
        </tr>
      </thead>
      <tbody>
        {% for job in role.jobs %}
        <tr>
          <th scope="col" style="width: 5em">{{ job.name }}</th>
          <td>
          {% for cj in job.characters %}
            <span
                class="event-job"
                data-char-name="{{ cj.character.name }}"
                data-job="{{ job.name }}"
                data-role="{{ role.role }}"
            >{{ cj.character.name }}</span>
          {% endfor %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script type="text/javascript" src="{% static 'mgmembers/javascript/party_builder.js' %}"></script>
{% endblock %}